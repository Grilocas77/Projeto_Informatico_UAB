ğŸ“ chatbot_engine.py â€“ Busca SemÃ¢ntica HeurÃ­stica com Embeddings
ğŸ“Œ FunÃ§Ã£o no Projeto
Este mÃ³dulo implementa um mecanismo alternativo e simplificado de recuperaÃ§Ã£o semÃ¢ntica, Ãºtil como:

ComparaÃ§Ã£o com o pipeline RAG+Velvet

Ferramenta de fallback (respostas rÃ¡pidas sem geraÃ§Ã£o)

ExploraÃ§Ã£o local dos documentos indexados

ğŸ§© Pipeline Interno
1. Carregamento de Embeddings
python
Copiar
Editar
model = SentenceTransformer(EMBEDDING_MODEL)
Usa o mesmo modelo e5-large-v2 definido em config.py

2. Acesso Ã  ChromaDB
python
Copiar
Editar
collection = get_chroma_db()
resultados = collection.similarity_search(query=pergunta, k=k)
Faz busca por similaridade vetorial diretamente nos embeddings

3. Filtragem e NormalizaÃ§Ã£o
Garante que sÃ³ retorna conteÃºdos vÃ¡lidos (page_content)

Limita resposta ao MAX_DOC_CHARS

4. ImpressÃ£o ou Retorno
Mostra a melhor resposta encontrada

Pode ser usada como fallback quando o modelo Velvet nÃ£o estÃ¡ disponÃ­vel

ğŸ§  IntegraÃ§Ã£o no Projeto
Este mÃ³dulo nÃ£o Ã© usado pelo cli_interface.py nem pelo chatbot_controller.py.

No entanto:

Pode ser Ãºtil para testes de desempenho

Ãštil em ambientes com recursos limitados (sem GPU ou sem MarianMT)

Serve como comparador qualitativo entre mÃ©todos com e sem LLM

âœ… FunÃ§Ã£o-Chave
FunÃ§Ã£o	PropÃ³sito
busca_local_heuristica(...)	Busca semÃ¢ntica direta e imprime ou retorna a melhor resposta textual

ğŸ“Œ JustificaÃ§Ã£o TecnolÃ³gica
Componente	JustificaÃ§Ã£o
SentenceTransformer	Modelo robusto para embeddings de sentenÃ§as
ChromaDB	Base vetorial jÃ¡ existente, reaproveitada
HeurÃ­stica simples	RÃ¡pida e suficiente para testar a qualidade dos documentos indexados

ğŸš€ BenefÃ­cios para o Projeto
Alternativa leve ao pipeline completo

ValidaÃ§Ã£o da qualidade dos embeddings/documentos

Permite testar apenas o RAG, isoladamente

Pode ser evoluÃ­do para um sistema de QA rÃ¡pido

ğŸ“¦ ConclusÃ£o
Apesar de nÃ£o estar ligado ao fluxo CLI ou GUI, chatbot_engine.py representa uma ferramenta auxiliar Ãºtil para debugging, testes comparativos ou ambientes restritos.