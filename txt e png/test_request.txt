ğŸ“ test_request.py â€“ AnÃ¡lise e ValidaÃ§Ã£o de Respostas do Velvet
ğŸ“Œ FunÃ§Ã£o no Projeto
Este script percorre todo o histÃ³rico (velvet_respostas.json) e:

Calcula mÃ©tricas agregadas

Filtra respostas invÃ¡lidas

Gera relatÃ³rios em .csv, .json, e grÃ¡ficos em .png

Ã‰ essencial para validar o sistema antes da apresentaÃ§Ã£o ou defesa, verificando:

Se o Velvet estÃ¡ a responder bem

Quais perguntas falham

Que mÃ©tricas sÃ£o consistentes

ğŸ”„ Pipeline de ValidaÃ§Ã£o
1. Carregamento do JSON de Respostas

with open(entrada_json, 'r', encoding='utf-8') as f:
    respostas = json.load(f)
2. ExtraÃ§Ã£o de MÃ©tricas
Por cada entrada:

Tempo de execuÃ§Ã£o

NÂº de tokens

NÂº de documentos recuperados

ValidaÃ§Ã£o por palavras-chave

Pergunta original

Contexto usado

3. Filtragem de Respostas InvÃ¡lidas
Respostas com:

Menos de 10 caracteres

Falha na validaÃ§Ã£o por palavras-chave

Contexto vazio

SÃ£o guardadas em respostas_invalidas.json para anÃ¡lise posterior.

4. Contagem de Perguntas Frequentes
Conta perguntas repetidas para ver padrÃµes de uso

Gera ranking_perguntas.csv com as mais frequentes

5. CriaÃ§Ã£o de GrÃ¡ficos
Histograma de tempos de resposta

GrÃ¡fico de barras das perguntas mais comuns

ğŸ§  IntegraÃ§Ã£o no Fluxo Velvet
Este script atua apÃ³s o uso do chatbot, fornecendo uma visÃ£o crÃ­tica sobre os resultados obtidos com o modelo Velvet-2B:

Apoia decisÃµes de melhoria (ex: reformular perguntas, alterar parÃ¢metros)

Permite validar a robustez do pipeline RAG + Velvet

Complementa o metrics_controller.py com deteÃ§Ã£o de falhas reais

âœ… SaÃ­das Geradas
Ficheiro	ConteÃºdo
resumo_metricas.csv	MÃ©tricas completas de todas as respostas
respostas_invalidas.json	Lista de respostas mal geradas
ranking_perguntas.csv	Perguntas mais frequentes
grafico_tempo_velvet.png	Visual da distribuiÃ§Ã£o de tempos
grafico_valida_velvet.png	EvoluÃ§Ã£o da taxa de respostas vÃ¡lidas

ğŸ“Œ JustificaÃ§Ã£o TecnolÃ³gica
Ferramenta	UtilizaÃ§Ã£o
pandas	AnÃ¡lise tabular eficiente
Counter	Contagem rÃ¡pida de perguntas
matplotlib	GrÃ¡ficos automatizados e prontos para anexar no relatÃ³rio
JSON	Estrutura clara e compatÃ­vel para revisÃ£o posterior

ğŸš€ BenefÃ­cios para o Projeto
Controlo de qualidade automatizado

Permite filtrar falhas reais do sistema

Identifica padrÃµes de uso e frequÃªncia de perguntas

Base para decisÃµes tÃ©cnicas e pedagÃ³gicas

Este mÃ³dulo Ã© uma das ferramentas mais valiosas para defender a fiabilidade do vosso sistema, apresentando dados reais e casos crÃ­ticos.