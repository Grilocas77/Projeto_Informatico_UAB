ğŸ“ rag_library_manager.py â€“ GestÃ£o da Base Vetorial (ChromaDB)
ğŸ“Œ FunÃ§Ã£o no Projeto
Este mÃ³dulo Ã© o ponto de entrada para o sistema de RecuperaÃ§Ã£o Aumentada por GeraÃ§Ã£o (RAG), gerindo:

A indexaÃ§Ã£o de documentos

A divisÃ£o inteligente do texto

A eliminaÃ§Ã£o de ruÃ­do

A criaÃ§Ã£o da base vetorial persistente

ğŸ§© Pipeline de IndexaÃ§Ã£o
1. Carregamento dos Documentos
LÃª todos os ficheiros da pasta data/documents/

Suporta .txt, .pdf, .md, etc.

Usa DirectoryLoader, TextLoader, PyPDFLoader

2. DivisÃ£o Inteligente em Chunks
Usa split_by_semantic_patterns():

Deteta cabeÃ§alhos, definiÃ§Ãµes, secÃ§Ãµes e separadores

Garante que cada chunk Ã© coeso e tem sentido pedagÃ³gico

3. Filtragem de RuÃ­do
Usa is_informative_chunk() para excluir:

TÃ­tulos soltos

Listas

NÃºmeros

ReferÃªncias e legendas

4. CriaÃ§Ã£o de Embeddings
Usa HuggingFaceEmbeddings com o modelo e5-large-v2

Aplica truncamento para respeitar o limite de MAX_PROMPT_TOKENS

5. IndexaÃ§Ã£o no ChromaDB
Armazena cada chunk vetorizado na base persistente (embeddings_db/chroma_db)

ğŸ§  IntegraÃ§Ã£o no Fluxo Velvet
Este mÃ³dulo Ã© executado antes do uso do chatbot, como uma fase de prÃ©-processamento. Ele garante que o rag_engine.py poderÃ¡:

Encontrar rapidamente os documentos mais relevantes

Oferecer contexto de qualidade ao Velvet

Sem este mÃ³dulo, o sistema nÃ£o teria base de conhecimento.

âœ… FunÃ§Ãµes-Chave
FunÃ§Ã£o	PropÃ³sito
build(force_rebuild=True)	Cria ou recria toda a base vetorial
_split_and_clean()	Divide e limpa o conteÃºdo dos documentos
_deduplicate_chunks()	Evita repetiÃ§Ã£o de texto vetorizado
_index_chunks()	Indexa os chunks no ChromaDB

ğŸ“Œ JustificaÃ§Ã£o TecnolÃ³gica
Componente	JustificaÃ§Ã£o
ChromaDB	Persistente, leve, local, ideal para protÃ³tipos
e5-large-v2	Embeddings semÃ¢nticos de alta qualidade
LangChain Loaders	Abstraem os tipos de ficheiros e facilitam integraÃ§Ã£o
Filtros heurÃ­sticos	Garantem qualidade pedagÃ³gica dos chunks indexados

ğŸš€ BenefÃ­cios para o Projeto
Base sÃ³lida para o RAG com documentos reais da UC

Modularidade: pode ser atualizado facilmente com novos materiais

Rastreabilidade: cada chunk pode ser identificado, modificado ou removido

EficiÃªncia: reduz ruÃ­do e otimiza a busca por contexto

Este mÃ³dulo representa a â€œmemÃ³riaâ€ do chatbot â€” Ã© aqui que os conteÃºdos da UC ganham estrutura semÃ¢ntica para alimentar o modelo Velvet.